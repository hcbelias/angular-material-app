form(layout='column' layout-gt-sm='row' layout-padding name='stockForm' ng-submit='stockrowCtrl.saveStockData(stockrowCtrl.data)'  layout-align='space-around center')
  .md-list-item-text(layout-align='center start' layout='column')
    h3(ng-if='stockrowCtrl.data.isKeg') {{ stockrowCtrl.data.name }} - {{stockrowCtrl.data.volume }}L
    h3(ng-if='!stockrowCtrl.data.isKeg') {{ stockrowCtrl.data.name }}
    h3 {{stockrowCtrl.data.item.name}}
    .md-subhead {{ stockrowCtrl.data.provider.shortName || stockrowCtrl.data.provider.name }}
    .md-subhead {{stockrowCtrl.data.store.name}}
    .md-subhead Último Pedido # {{stockrowCtrl.data.invoiceNumber}} 
    .md-subhead(ng-if='stockrowCtrl.data.finalized') Estoque Finalizado
  .md-list-item-text(layout-align='center center' layout='column')
    div(ng-if='stockrowCtrl.data.isKeg') 
      md-display Identificador
      br
      h3( layout='center center') {{ stockrowCtrl.data.kegId }}LJ{{stockrowCtrl.data.store.orderFormatted}}
      h3( layout='center center' ng-if='stockrowCtrl.data.kegOrder >= 0') {{  "Ativo - Torneira " + (stockrowCtrl.data.kegOrder + 1)}}
      br
    md-input-container(ng-if='!stockrowCtrl.data.isKeg')
      md-radio-group(ng-value='stockrowCtrl.data.active' ng-model='stockrowCtrl.data.active' layout='row' name='active' ng-disabled='stockrowCtrl.data.finalized')
        md-radio-button.md-primary(value='true') Ativo
        md-radio-button(value='false')  Inativo
    md-input-container(ng-if='!stockrowCtrl.data.isKeg')
      label Quantidade Comprada
      input(flex ng-model='stockrowCtrl.data.quantity' name='quantity' type='text' ui-hide-group-sep ui-number-mask='0' ng-pattern="/^[0-9]+$/" step="1" min="0" disabled)
    md-input-container(ng-if='!stockrowCtrl.data.isKeg')
      label Quantidade em Estoque
      input#inputMoney(flex required ng-model='stockrowCtrl.data.remaining' name='quantity' type='text' ui-hide-group-sep ui-number-mask='0' ng-pattern="/^[0-9]+$/" step="1" min="0")
      div(ng-messages='stockForm.quantity.$touched && stockForm.quantity.$error')
        div(ng-message='required') Campo obrigatório
        div(ng-message='pattern') O Custo Unitário deve ser um número válido
      p.warning-text(ng-if='stockrowCtrl.data.remaining === 0') Fim de Estoque
    md-input-container(ng-if='stockrowCtrl.data.isKeg')
      label Volume Restante(L)
      input#inputMoney(flex required ng-model='stockrowCtrl.data.remaining' name='quantity' readonly type='number' step="0.1" min="0" ng-disabled='true')
      p.warning-text(ng-if='stockrowCtrl.data.remaining === 0') Fim de Estoque
  div(layout='column' layout-gt-sm='row' layout-align='center center' layout-margin ng-if='!stockrowCtrl.data.isKeg ')
    div(layout='column' layout-gt-sm='row' layout-align='center center' layout-margin)
      h3.volume-cost-label Custo R$/{{stockrowCtrl.data.isKeg ? "L" : "Un"}}
      label.volume-cost-label {{ stockrowCtrl.data.unitCost }}
    h3.volume-cost-label Preço R$/Un.
    md-input-container(layout='column')
      label.volume-cost-label Preço Unitário
      input#inputMoney(flex required ng-model='stockrowCtrl.data.unitPrice' name='unitPrice' type='text' ui-hide-group-sep ui-number-mask='2' ng-pattern="/^[0-9]+(\.[0-9]{2})?$/" step="0.01" min="0" ng-disabled='stockrowCtrl.data.finalized')
      div(ng-messages='stockForm.unitPrice.$touched && stockForm.unitPrice.$error')
        div(ng-message='required') Campo obrigatório
        div(ng-message='pattern') O Custo Unitário deve ser um número válido
  div(layout='column' layout-align='start start' layout-margin ng-if='stockrowCtrl.data.isKeg')
    div(layout='column' layout-gt-sm='row' layout-align='center center' layout-margin ng-if='stockrowCtrl.data.isKeg')
      h3.volume-cost-label Custo R$/{{stockrowCtrl.data.isKeg ? "L" : "Un"}}
      label.volume-cost-label {{ stockrowCtrl.data.unitCost }}
    div(layout='column' layout-gt-sm='row' layout-align='center center' layout-margin ng-if='stockrowCtrl.data.isKeg')
      h3.volume-cost-label Preço R$/500mL
      md-input-container(layout='column')
        label.volume-cost-label Preço R$500mL
        input#inputMoney(flex required ng-model='stockrowCtrl.data.pintPrice' name='unitPrice' type='text' ui-hide-group-sep ui-number-mask='2' ng-pattern="/^[0-9]+(\.[0-9]{2})?$/" step="0.01" min="0" ng-disabled='stockrowCtrl.data.finalized')
        div(ng-messages='stockForm.unitPrice.$touched && stockForm.unitPrice.$error')
          div(ng-message='required') Campo obrigatório
          div(ng-message='pattern') O Custo Unitário deve ser um número válido
    div(layout='column' layout-gt-sm='row' layout-align='center center' layout-margin ng-if='stockrowCtrl.data.isKeg')
      h3.volume-cost-label Preço R$/L
      md-input-container(layout='column')
        label.volume-cost-label Preço R$/Litro
        input#inputMoney(flex required ng-model='stockrowCtrl.data.literPrice' name='unitPrice' type='text' ui-hide-group-sep ui-number-mask='2' ng-pattern="/^[0-9]+(\.[0-9]{2})?$/" step="0.01" min="0" ng-disabled='stockrowCtrl.data.finalized')
        div(ng-messages='stockForm.unitPrice.$touched && stockForm.unitPrice.$error')
          div(ng-message='required') Campo obrigatório
          div(ng-message='pattern') O Custo Unitário deve ser um número válido
  div(layout='column' layout-gt-sm='row' layout-align='center center' layout-margin ng-if='stockrowCtrl.admin')
    div(layout='column')
      md-button.md-warn.md-raised(aria-label='Salvar Estoque' type='submit' ng-disabled='stockrowCtrl.data.finalized || !stockrowCtrl.data.quantity || (!stockrowCtrl.data.isKeg && !stockrowCtrl.data.unitPrice) || (stockrowCtrl.data.isKeg && !(stockrowCtrl.data.literPrice && stockrowCtrl.data.pintPrice)) || stockrowCtrl.data.literPrice <= stockrowCtrl.data.pintPrice') Salvar
      md-button.md-accent.md-raised(aria-label='Finalizar Estoque' type='button' ng-click='stockrowCtrl.finalizeStock(stockrowCtrl.data)' ng-disabled='stockrowCtrl.data.finalized') Finalizar